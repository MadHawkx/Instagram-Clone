[{"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\index.js":"1","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\reportWebVitals.js":"2","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\App.js":"3","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Navbar.js":"4","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\Global\\Context.js":"5","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Model.js":"6","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\config.js":"7","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Stories.js":"8","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Posts.js":"9","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\PostsDisplay.js":"10","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Comments.js":"11","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Sidebar.js":"12"},{"size":478,"mtime":1610221581573,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"14"},{"size":604,"mtime":1613322780419,"results":"16","hashOfConfig":"14"},{"size":2138,"mtime":1611681134704,"results":"17","hashOfConfig":"14"},{"size":3749,"mtime":1613677942743,"results":"18","hashOfConfig":"14"},{"size":4785,"mtime":1610818527474,"results":"19","hashOfConfig":"14"},{"size":664,"mtime":1613640397443,"results":"20","hashOfConfig":"14"},{"size":1310,"mtime":1610727848657,"results":"21","hashOfConfig":"14"},{"size":2144,"mtime":1613678002229,"results":"22","hashOfConfig":"14"},{"size":962,"mtime":1611837449613,"results":"23","hashOfConfig":"14"},{"size":1699,"mtime":1611851068391,"results":"24","hashOfConfig":"14"},{"size":848,"mtime":1613678277388,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1g9845v",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\index.js",[],["53","54"],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\reportWebVitals.js",[],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\App.js",[],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Navbar.js",[],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\Global\\Context.js",["55"],"import React, {createContext} from 'react'\r\nimport {auth, db ,storage} from '../config';\r\nimport firebase from \"firebase\";\r\nexport const ContextProvider=createContext();\r\n\r\nconst Context = (props) => {\r\n    const [model,setModel]=React.useState(false);\r\n    const [user,setUser]=React.useState(null);\r\n    const [loader,setLoader]=React.useState(true);\r\n    const[posts,setPosts]=React.useState([]);\r\n    const openModel=()=>{\r\n        setModel(true);\r\n    }\r\n    const closeModel=()=>{\r\n        setModel(false);\r\n    }\r\n    // async since FB works asynchronously\r\n    const register=async(user)=>{\r\n        const {username, email, password}=user;\r\n        try{\r\n        const temp=await auth.createUserWithEmailAndPassword(email,password)\r\n        temp.user.updateProfile({displayName:username})\r\n        setModel(false);\r\n        }catch(e){\r\n            console.log(e);\r\n        }\r\n    }\r\n    const login=async(user)=>{\r\n        const {email, password}=user;\r\n        try{\r\n        const temp=await auth.signInWithEmailAndPassword(email,password);\r\n        //console.log(temp);\r\n        setModel(false);\r\n    }catch(e){\r\n        alert(e);\r\n    }\r\n    }\r\n\r\n    const logout=()=>{\r\n        auth.signOut().then(() => {\r\n            alert(\"Logged out\");\r\n            setUser(null);\r\n          }).catch((e) => {\r\n            alert(e);\r\n          });\r\n    }\r\n\r\n    const addComment=data=>{\r\n        const {id,comment}=data;\r\n        db.collection(\"posts\").doc(id).collection(\"comments\").add({\r\n            comment,\r\n            username:user.displayName,\r\n            currentTime:firebase.firestore.FieldValue.serverTimestamp()\r\n        });\r\n\r\n    } \r\n\r\n    React.useEffect(()=>{\r\n        auth.onAuthStateChanged(user=>{\r\n            setUser(user);\r\n            setLoader(false);\r\n        })\r\n        //Fetch posts from firebase--Onsnapshot below helps in preventing refreshing browser Real time db access\r\n        db.collection(\"posts\").orderBy(\"currentTime\",\"desc\").onSnapshot(snapshot=>{\r\n            setPosts(snapshot.docs.map(temp=>(\r\n                {\r\n                    id:temp.id,\r\n                    caption:temp.data().caption,\r\n                    image:temp.data().image,\r\n                    username:temp.data().username,\r\n                }\r\n            )))\r\n        })\r\n    })\r\n\r\n    const create=data=>{\r\n        const{caption,image}=data; \r\n        const upload=storage.ref(`images/${image.name}`).put(image);\r\n        \r\n        upload.on(\"state_changed\",(snapshot)=>{\r\n        // We can manage the progress of upload process here, here snapshot gives us info about image upload\r\n        let progress=(snapshot.bytesTransferred / snapshot.totalBytes )*100;\r\n        console.log(progress);\r\n        },(e)=>{\r\n            console.log(e);\r\n        },()=>{\r\n            //In case of success\r\n            storage.ref(\"images\")\r\n                    .child(image.name)\r\n                    .getDownloadURL()\r\n                    .then(url=>{\r\n                        db.collection(\"posts\").add({\r\n                            caption,\r\n                            image:url,\r\n                            username:user.displayName,\r\n                            currentTime:firebase.firestore.FieldValue.serverTimestamp(),\r\n                        })\r\n                    })\r\n           \r\n        })\r\n    }\r\n    \r\n    return (\r\n        <ContextProvider.Provider value={{model,openModel,closeModel,register,login,user,loader,logout,create,posts,addComment}} >\r\n            {props.children}\r\n        </ContextProvider.Provider> \r\n    )\r\n}\r\n\r\nexport default Context\r\n//Here props.children are the child components like Navbar component etc\r\n//See app.js we have wrapped our components with <Context> and those are its children in {props.children}","D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Model.js",[],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\config.js",[],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Stories.js",[],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Posts.js",[],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\PostsDisplay.js",[],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Comments.js",[],["56","57"],"D:\\React-Maxmillian\\Instagram Clone\\instagram\\src\\components\\Sidebar.js",[],{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","severity":1,"message":"63","line":31,"column":15,"nodeType":"64","messageId":"65","endLine":31,"endColumn":19},{"ruleId":"58","replacedBy":"66"},{"ruleId":"60","replacedBy":"67"},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-unused-vars","'temp' is assigned a value but never used.","Identifier","unusedVar",["68"],["69"],"no-global-assign","no-unsafe-negation"]